/**
  * stpa-modal provides a reusable way to do modal in AngularJS
  * check out documentation in http://modal.stpa.co
  *
  * Copyright © 2014 Stewan Pacheco <talk@stpa.co>
  *
  * Permission is hereby granted, free of charge, to any person obtaining a copy
  * of this software and associated documentation files (the “Software”), to deal
  * in the Software without restriction, including without limitation the rights
  * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  * copies of the Software, and to permit persons to whom the Software is
  * furnished to do so, subject to the following conditions:
  *
  * The above copyright notice and this permission notice shall be included in all
  * copies or substantial portions of the Software.
  *
  * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  * SOFTWARE.
  */
"use strict";!function(){var t=angular.module("stpa.modal",[]);t.directive("stpaModal",["$modal",function(t){return{transclude:!0,restrict:"EA",template:'<a ng-click="open()" ng-transclude></a>',scope:{controller:"@",controllerAs:"@",name:"@",size:"@",scope:"=scope",body:"@",bodyClass:"@"},link:function(a,o,n){a.open=function(){var o=t.open({templateUrl:n.template?n.template:!1,template:n.template?!1:function(){var t="";return t+='<div class="modal-header">',t+=""!=n.name?n.name:"My stpa-modal</h3>",t+="</div>",t+='<div class="modal-body '+n.bodyClass+'">',t+=n.body,t+="</div>",t+='<div class="modal-footer">',t+='<button class="btn btn-primary" ng-click="StpaModalCtrl.accept($event)">OK</button>',t+='<!-- <button class="btn btn-warning" ng-click="StpaModalCtrl.cancel($event)">Cancel</button> -->',t+="</div>"},controller:"StpaModalCtrl",controllerAs:"StpaModalCtrl",size:n.size?n.size:"sm",windowClass:n.windowClass?n.windowClass:"stpa-modal-window",backdrop:n.backdrop?n.backdrop:!0,resolve:{modalSetting:function(){return{name:a.name?a.name:"Stpa Modal"}},modalScope:function(){return a.scope?a.scope:{}}}});o.result.then(function(){},function(){})}}}}]),t.controller("StpaModalCtrl",["$scope","$rootScope","$modalInstance","modalSetting","modalScope",function(t,a,o,n,e){function l(t){o.close(),a.$emit("StpaModalAccepted",t),a.$emit("StpaModalOkCallback",t),t&&t.stopPropagation()}function c(t){o.dismiss("cancel"),a.$emit("StpaModalCanceled",t),a.$emit("StpaModalCancelCallback",t),t&&t.stopPropagation()}var s=this;s.setting=n,s.scope=e,s.accept=l,s.cancel=c,a.$on("StpaModalAccept",function(){l()}),a.$on("StpaModalCancel",function(){c()}),s.ok=l,a.$on("StpaModalOk",function(){l()})}])}();